<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=600,user-scalable=yes"/>
    <title>Drag and Drop jQuery Plugin Reorder Example</title>
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/jquery.drag-drop.plugin.js"></script>
    <script>
        var currentOrder = ["A", "B", "C", "D", "E"];

        $(function () {
            var $srcElement;
            var srcIndex, dstIndex;

            $("#list>li").dragdrop({
                makeClone: false,
                sourceHide: true,
                dragClass: "shadow",
                canDrag: function ($src, event) {
                    $srcElement = $src;
                    srcIndex = $srcElement.index();
                    dstIndex = srcIndex;
                    return $src;
                },
                canDrop: function ($dst) {
                    if ($dst.is("li")) {
                        dstIndex = $dst.index();
                        if (srcIndex < dstIndex)
                            $srcElement.insertAfter($dst);
                        else
                            $srcElement.insertBefore($dst);
                    }
                    return true;
                },
                didDrop: function ($src, $dst) {
                    // Must have empty function in order to NOT move anything.
                    // Everything that needs to be done has been done in canDrop.

                    if (srcIndex != dstIndex) {
                        var value = currentOrder[srcIndex];
                        currentOrder.splice(srcIndex, 1);
                        currentOrder.splice(dstIndex, 0, value);
                        $("#msg").text("New order of items:" + currentOrder.join(", "));
                    }
                }
            });
        });
    </script>
</head>
<body>
<div class="header">
    <h1>Reorder Example</h1>
</div>
<div class="content">
    <p>Drag the items below to change their order</p>
    <ul id="list">
        <li>Item A</li>
        <li>Item B</li>
        <li>Item C</li>
        <li>Item D</li>
        <li>Item E</li>
    </ul>
    <p id="msg"></p>
</div>
</body>
</html>

